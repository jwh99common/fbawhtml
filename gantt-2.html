<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gantt Chart</title>
    <style>
        body {
            font-family: sans-serif;
            width: auto;
        }
    </style>
    <link rel="stylesheet" href="dist/gantt-chart.css"/>
    <script src="dist/gantt-chart.js"></script>
</head>
<body>
<div class="gantt-target"></div>
<script>

    var mock = [
        {
            start: '2019-06-01',
            end: '2019-06-10',
            name: 'Whole Project',
            id: 'Task 0',
            progress: 55,
            level: 0,
            overdue: true,
            showOnGraph: true,
            taskList: [
                {
                    start: '2019-06-10',
                    end: '2019-06-12',
                    name: 'Kick off',
                    id: 'Task 1',
                    progress: 13,
                    level: 1,
                    overdue: true,
                    showOnGraph: false,
                },
                {
                    start: '2019-06-10',
                    end: '2019-06-11',
                    name: 'Initial Task',
                    id: 'Task 2',
                    progress: 100,
                    level: 2,
                    overdue: true,
                    showOnGraph: true,
                },
                {
                    start: '2019-06-10',
                    end: '2019-06-12',
                    name: 'Second Task',
                    id: 'Task 3',
                    progress: 100,
                    level: 3,
                    overdue: false,
                    showOnGraph: true,
                }
            ]
        },
        {
            start: '2019-06-10',
            end: '2019-06-12',
            name: 'Stabilization',
            id: 'Task 4',
            progress: 0,
            level: 0,
            overdue: false,
            showOnGraph: true,
            taskList: [
                {
                    start: '2019-06-10',
                    end: '2019-06-11',
                    name: 'Refactoring code',
                    id: 'Task 5',
                    progress: 0,
                    level: 1,
                    overdue: false,
                    showOnGraph: true,
                },
                {
                    start: '2019-07-01',
                    end: '2019-07-25',
                    name: 'Unit Test',
                    id: 'Task 6',
                    progress: 0,
                    level: 3,
                    overdue: false,
                    showOnGraph: true,
                },
                {
                    start: '2019-06-10',
                    end: '2019-06-10',
                    name: 'Full Regression Tests',
                    id: 'Task 7',
                    progress: 0,
                    level: 3,
                    overdue: false,
                    showOnGraph: true,
                }
            ]
        }
    ];

    var mock2 = [
        {
            start: '2019-06-01',
            end: '2019-06-10',
            name: 'Refreshed Tasks',
            id: 'Task 0',
            progress: 55,
            level: 0,
            overdue: true,
            taskList: [
                {
                    start: '2019-06-10',
                    end: '2019-06-12',
                    name: 'Refreshed Tasks',
                    id: 'Task 1',
                    progress: 13,
                    level: 1,
                    overdue: true
                }
            ]
        }
    ];

    const gantt_chart = new GanttChart('.gantt-target', mock, {
        on_click: function(task) {
            console.log('Task clicked: ', task);
        },
        on_date_change: function(task, start, end) {
            console.log('Date changed ', task, start, end);
        },
        on_progress_change: function(task, progress) {
            console.log('Progress Change ', task, progress);
        },
        on_view_change: function(mode) {
            console.log('View mode: ', mode);
        },
        view_mode: 'Week',
        language: 'en',
        project_overview: false
    });

    //gantt_chart.refresh(mock2);

</script>
</body>
</html>
